get:
  tags: [Tickets]
  summary: Get all tickets
  operationId: getAllTickets
  responses:
    '200':
      description: Successful operation
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/TicketDTO'


post:
  tags: [Tickets]
  summary: create ticket
  operationId: createTicket
  requestBody:
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/TicketCreateDTO'
  responses:
    '201':
      description: Created
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/TicketDTO'

components:
  schemas:
    TicketDTO:
      type: object
      properties:
        id:
          type: integer
          format: int64
        reporterEmail:
          type: string
        description:
          type: string
        priority:
          $ref: '#/components/schemas/Priority'
        status:
          $ref: '#/components/schemas/TicketStatus'
        createdAt:
          type: string
          format: date-time
        startedAt:
          type: string
          format: date-time
        finishedAt:
          type: string
          format: date-time
        buildingId:
          type: integer
          format: int64
        mechanicId:
          type: integer
          format: int64
      required:
        - reporterEmail
        - description
        - buildingId
        - priority
        - status
        - buildingId

    TicketCreateDTO:
      type: object
      properties:
        reporterEmail:
          type: string
        description:
          type: string
        buildingId:
          type: integer
          format: int64
      required:
        - reporterEmail
        - description
        - buildingId

    Priority:
      type: string
      enum: [LOW, MEDIUM, HIGH, URGENT]

    TicketStatus:
      type: string
      enum: [REPORTED, ASSIGNED, IN_PROGRESS, FINISHED]