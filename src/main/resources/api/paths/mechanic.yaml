get:
  tags: [Mechanic]
  operationId: getAllMechanics
  summary: Get all mechanics
  responses:
    '200':
      description: Success
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/MechanicDTO'

post:
  tags: [Mechanic]
  operationId: createMechanic
  summary: Create a mechanic
  requestBody:
    description: Mechanic object that needs to be added to the store
    required: true
    content:
      application/json:
        schema:
          $ref: '#/components/schemas/MechanicCreateDTO'
  responses:
    '201':
      description: Created
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/MechanicDTO'

components:
  schemas:
    # 1. Először definiálod a "Create" verziót (id nélkül)
    MechanicCreateDTO:
      type: object
      properties:
        name:
          type: string
        email:
          type: string
        phoneNumber:
          type: string
        profession:
          type: string
        serviceArea:
          type: integer
          format: int64
      required:
        - name
        - email
        - phoneNumber
        - profession
        - serviceArea

    # 2. A teljes DTO "örököl" a CreateDTO-ból és hozzáadja az ID-t
    MechanicDTO:
      allOf:
        - $ref: '#/components/schemas/MechanicCreateDTO' # Beemeli az összes fenti mezőt
        - type: object
          properties:
            id:
              type: integer
              format: int64
          required:
            - id